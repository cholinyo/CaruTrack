{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>Nueva Solicitud de Subvención</h2>
  <form method="POST">
    <div class="mb-3">
      <label for="expediente_opensea" class="form-label">Expediente OpenSea</label>
      <input type="text" class="form-control" name="expediente_opensea" id="expediente_opensea">
    </div>

    <div class="mb-3">
      <label for="expediente_subvencion" class="form-label">Expediente Subvención</label>
      <input type="text" class="form-control" name="expediente_subvencion" id="expediente_subvencion">
    </div>

    <div class="mb-3">
      <label for="entidad_id" class="form-label">Entidad</label>
      <select class="form-select" name="entidad_id" id="entidad_id">
        <option value="">-- Selecciona una entidad --</option>
        {% for entidad in entidades %}
          <option value="{{ entidad.id }}">{{ entidad.nombre }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label for="concepto" class="form-label">Concepto / Objeto</label>
      <input type="text" class="form-control" name="concepto" id="concepto">
    </div>

    <div class="mb-3">
      <label for="tipo_fondo" class="form-label">Tipo de Fondo</label>
      <select class="form-select" name="tipo_fondo" id="tipo_fondo">
        <option value="">-- Selecciona --</option>
        <option>Fondos Europeos</option>
        <option>Fondos Nacionales</option>
        <option>Fondos Autonómicos</option>
        <option>Fondos Provinciales</option>
        <option>Otros</option>
      </select>
    </div>

    <div class="mb-3">
      <label for="fecha_solicitud" class="form-label">Fecha de Solicitud</label>
      <input type="date" class="form-control" name="fecha_solicitud" id="fecha_solicitud">
    </div>

    <div class="mb-3">
      <label for="importe_estimado" class="form-label">Importe Total del Proyecto (€)</label>
      <input type="number" step="0.01" class="form-control" name="importe_estimado" id="importe_estimado">
    </div>

    <div class="mb-3">
      <label for="importe_subvencionado" class="form-label">Importe Subvencionado (€)</label>
      <input type="number" step="0.01" class="form-control" name="importe_subvencionado" id="importe_subvencionado">
    </div>

    <div class="mb-3">
      <label for="fondos_propios" class="form-label">Aportación Fondos Propios Municipales (€)</label>
      <input type="number" step="0.01" class="form-control" name="fondos_propios" id="fondos_propios">
    </div>

    <fieldset class="mb-3">
      <legend>Documentación Requerida</legend>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" name="documento_inicio_expediente" id="documento_inicio_expediente">
        <label class="form-check-label" for="documento_inicio_expediente">Inicio de expediente</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" name="documento_informe_tecnico" id="documento_informe_tecnico">
        <label class="form-check-label" for="documento_informe_tecnico">Informe técnico</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" name="documento_propuesta_jgl" id="documento_propuesta_jgl">
        <label class="form-check-label" for="documento_propuesta_jgl">Propuesta JGL / Decreto</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="checkbox" name="documento_ficha_captacion" id="documento_ficha_captacion">
        <label class="form-check-label" for="documento_ficha_captacion">Ficha Departamento Captación</label>
      </div>
    </fieldset>

    <div class="mb-3">
      <label for="observaciones" class="form-label">Observaciones</label>
      <textarea class="form-control" name="observaciones" id="observaciones" rows="4"></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Guardar Solicitud</button>
    <a href="{{ url_for('main.listar_solicitudes') }}" class="btn btn-secondary">Cancelar</a>
  </form>
</div>
{% endblock %}